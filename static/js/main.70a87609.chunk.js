(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var a=c(26),s=c.n(a),n=c(6),r=c(1),i=c.n(r),l=c(4),o=c(8),d=c(7),j=c(3),_=c(5),b=c.n(_),u="https://mate-academy.github.io/react_phone-catalog/_new";function m(e){return new Promise((function(t){setTimeout(t,e)}))}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};return c&&(a.body=JSON.stringify(c),a.headers={"Content-Type":"application/json; charset=UTF-8"}),m(600).then((function(){return fetch(u+e,a)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var h=function(e){return O(e)},p=function(){var e=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h("/products.json"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h("/products/".concat(t,".json")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=c(27),g=c.n(x),v=c(10),N=c.n(v),y=localStorage.getItem("fav")?JSON.parse(localStorage.getItem("fav")||""):[],S=localStorage.getItem("fullList")?JSON.parse(localStorage.getItem("fullList")||""):[],w=function(e,t){return e.findIndex((function(e){return e.id===t}))},P=c(0),k=function(e){var t=e.id,c=e.bigButton,a=Object(r.useState)(-1!==w(y,t)),s=Object(j.a)(a,2),n=s[0],i=s[1];return Object(P.jsx)("button",{type:"button","aria-label":"favorite-button",onClick:function(){i((function(e){return!e})),function(e){localStorage.removeItem("fav");var t=w(y,e);if(-1!==t)y.splice(t,1);else{var c=S.find((function(t){return t.id===e}));c&&y.push(c)}localStorage.setItem("fav",JSON.stringify(y))}(t)},className:N()("favorite-button",{active:n,"favorite-button--big":c})})},L=localStorage.getItem("fullList")?JSON.parse(localStorage.getItem("fullList")||""):[],I=localStorage.getItem("cartList")?JSON.parse(localStorage.getItem("cartList")||""):[],C=function(e){var t=e.id,c=e.bigButton,a=Object(r.useState)(function(e){return I.length>0&&!!function(e,t){return e.filter((function(e){return e.id===t})).length}(I,e)}(t)),s=Object(j.a)(a,2),n=s[0],i=s[1];return Object(P.jsx)("button",{className:N()("button",{active:n,"button--big":c}),onClick:function(){i(!0),function(e){var t=L.find((function(t){return t.id===e}));t&&I.push(t),localStorage.setItem("cartList",JSON.stringify(I))}(t)},type:"button",children:n?"Added to cart":"Add to cart"})},E=function(e){var t=e.item,c=e.hasDiscont,a=t.id,s=t.itemId,r=t.name,i=t.price,l=t.fullPrice,o=t.screen,d=t.capacity,j=t.ram,_=t.image,b="new/".concat(_);return Object(P.jsxs)("div",{className:"card link-style",children:[Object(P.jsx)(n.b,{to:"/phones/".concat(s),className:"card__header",children:Object(P.jsx)("img",{className:"card__header__image",src:b,alt:r})}),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"card__name",children:[Object(P.jsx)("p",{className:"text__body card__name__title",children:r}),Object(P.jsxs)("div",{className:"card__price",children:[Object(P.jsx)("h2",{className:"card__price__new",children:"$".concat(i)}),c&&Object(P.jsx)("h2",{className:"card__price__old",children:"$".concat(l)})]}),Object(P.jsx)("div",{})]}),Object(P.jsxs)("div",{className:"card__info",children:[Object(P.jsx)("div",{}),Object(P.jsxs)("div",{className:"card__params text__small",children:[Object(P.jsxs)("div",{className:"card__params__line",children:[Object(P.jsx)("p",{className:"card__params__title",children:"Screen"}),Object(P.jsx)("p",{className:"card__params__data",children:o})]}),Object(P.jsxs)("div",{className:"card__params__line",children:[Object(P.jsx)("p",{className:"card__params__title",children:"Capacity"}),Object(P.jsx)("p",{className:"card__params__data",children:d})]}),Object(P.jsxs)("div",{className:"card__params__line",children:[Object(P.jsx)("p",{className:"card__params__title",children:"RAM"}),Object(P.jsx)("p",{className:"card__params__data",children:j})]})]}),Object(P.jsxs)("div",{className:"card__footer",children:[Object(P.jsx)(C,{id:a}),Object(P.jsx)(k,{id:a})]})]})]})]},s)},A=function(e){var t=e.title,c=e.itemsList,a=e.isLoading,s=Object(r.useState)(0),n=Object(j.a)(s,2),i=n[0],l=n[1],o=272,d=1;switch(!0){case window.innerWidth>1280:o=288,d=4;break;case window.innerWidth>768:o=350,d=2}var _="translateX(".concat(o*-i,"px)"),b=function(e){var t;l((function(t){return t+d*e})),null===(t=document.querySelector(".page__content__cards"))||void 0===t||t.scrollTo({left:-100,behavior:"smooth"})};return Object(P.jsxs)("section",{className:"page__content",children:[Object(P.jsxs)("div",{className:"page__content__header",children:[Object(P.jsx)("h1",{children:t}),c.length>d&&Object(P.jsxs)("div",{className:"page__content__header__arrows",children:[Object(P.jsx)("button",{type:"button","aria-label":"slider-button",className:"slider-button slider-button__left",onClick:function(){return b(-1)},disabled:0===i}),Object(P.jsx)("button",{type:"button","aria-label":"slider-button",className:"slider-button slider-button__right",onClick:function(){return b(1)},disabled:i>=c.length-d})]})]}),a&&Object(P.jsx)("div",{className:"card-loaders",children:Array.from({length:d},(function(e,t){return t+1})).map((function(e){return Object(P.jsx)("div",{className:"card card-loaders__loader",children:Object(P.jsx)(g.a,{color:"gray"})},e)}))}),Object(P.jsx)("div",{children:Object(P.jsx)("ul",{className:"page__content__cards",children:c.map((function(e){return Object(P.jsx)("li",{style:{transition:"500ms",transform:_},children:Object(P.jsx)(E,{item:e,hasDiscont:!0})},e.id)}))})})]})},J=function(){var e=Object(r.useState)(-1),t=Object(j.a)(e,2),c=t[0],a=t[1],s=400;switch(!0){case window.innerWidth>1280:s=1040;break;case window.innerWidth>768:s=560}var n=function(e){a((function(t){var c=0;switch(t+e){case 2:c=-1;break;case-2:c=1;break;default:c=t+e}return c}))};return Object(r.useEffect)((function(){var e=setInterval((function(){n(1)}),5e3);return function(){return clearInterval(e)}}),[]),Object(r.useEffect)((function(){var e=document.querySelector(".banner__dots");switch(c){case-1:null===e||void 0===e||e.classList.toggle("icon--dots--0",!0),null===e||void 0===e||e.classList.toggle("icon--dots--1",!1),null===e||void 0===e||e.classList.toggle("icon--dots--2",!1);break;case 0:null===e||void 0===e||e.classList.toggle("icon--dots--0",!1),null===e||void 0===e||e.classList.toggle("icon--dots--1",!0),null===e||void 0===e||e.classList.toggle("icon--dots--2",!1);break;case 1:null===e||void 0===e||e.classList.toggle("icon--dots--1",!1),null===e||void 0===e||e.classList.toggle("icon--dots--2",!0)}}),[c]),Object(P.jsxs)("section",{className:"banner",children:[Object(P.jsxs)("div",{className:"banner__main",children:[Object(P.jsx)("button",{"aria-label":"banner__icon",type:"button",className:"slider-button slider-button__left banner__icon",onClick:function(){return n(-1)}}),Object(P.jsx)("div",{className:"banner__cover",children:Object(P.jsx)("ul",{className:"banner__list",children:["./new/img/banner-tablets.png","./new/img/banner-phones.png","./new/img/banner-accessories.png"].map((function(e){return Object(P.jsx)("li",{style:{transition:"500ms",transform:"translateX(".concat(s*-c,"px)")},children:Object(P.jsx)("img",{className:"banner__image",src:e,alt:"Banner"})},e)}))})}),Object(P.jsx)("button",{"aria-label":"banner__icon",type:"button",className:"slider-button slider-button__right banner__icon",onClick:function(){return n(1)}})]}),Object(P.jsx)("div",{className:"banner__footer",children:Object(P.jsx)("p",{className:"banner__dots icon icon--dots icon--dots--0"})})]})},T=function(){return Object(P.jsxs)("section",{className:"category",children:[Object(P.jsx)("div",{className:"category__header",children:Object(P.jsx)("h1",{children:"Shop by category"})}),Object(P.jsxs)("div",{className:"category__cards",children:[Object(P.jsxs)(n.b,{to:"./phones",className:"category__card",children:[Object(P.jsx)("div",{className:"category__card__content category__card--beige",children:Object(P.jsx)("img",{src:"./new/img/category-phones.png",alt:"Mobile phones",className:"category__card__image category__card__image--phone"})}),Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:"Mobile phones"}),Object(P.jsx)("p",{className:"text__body",children:"71 models"})]})]}),Object(P.jsxs)(n.b,{to:"./tablets",className:"category__card",children:[Object(P.jsx)("div",{className:"category__card__content category__card--gray",children:Object(P.jsx)("img",{src:"./new/img/category-tablets.png",alt:"Tablets",className:"category__card__image category__card__image--tablet"})}),Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:"Tablets"}),Object(P.jsx)("p",{className:"text__body",children:"24 models"})]})]}),Object(P.jsxs)(n.b,{to:"/accessories",className:"category__card",children:[Object(P.jsx)("div",{className:"category__card__content category__card--red",children:Object(P.jsx)("img",{src:"./new/img/category-accessories.png",alt:"Accessories",className:"category__card__image category__card__image--acc"})}),Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:"Accessories"}),Object(P.jsx)("p",{className:"text__body",children:"100 models"})]})]})]})]})},B=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(!1),n=Object(j.a)(s,2),i=n[0],l=n[1],_=function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,p();case 4:t=e.sent,a(t);case 6:return e.prev=6,l(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){0===c.length&&_()}),[]),localStorage.setItem("fullList",JSON.stringify(c));var u=Object(r.useMemo)((function(){return Object(o.a)(c).sort((function(e,t){return t.fullPrice-t.price-(e.fullPrice-e.price)})).slice(0,16)}),[c]),m=Object(r.useMemo)((function(){return Object(o.a)(c).sort((function(e,t){return t.year-e.year})).slice(0,16)}),[c]);return Object(P.jsxs)("main",{className:"page",children:[Object(P.jsx)(J,{}),Object(P.jsx)(A,{title:"Hot price",itemsList:u,isLoading:i}),Object(P.jsx)(T,{}),Object(P.jsx)(A,{title:"Brand new models",itemsList:m,isLoading:i}),Object(P.jsx)("section",{})]})},M=c(40),D=c(25),q=c(28);function U(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(j.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}var $=["children","params"],W=function(e){var t=e.children,c=e.params,a=Object(q.a)(e,$),s=Object(n.d)(),r=Object(j.a)(s,1)[0];return Object(P.jsx)(n.b,Object(D.a)(Object(D.a)({to:{search:U(r,c)}},a),{},{children:t}))},F=function(e){var t=e.catalog,c=e.start,a=e.end;return Object(P.jsx)("div",{className:"catalog",children:Object(P.jsx)("div",{className:"catalog__items",children:t.slice(c,a).map((function(e){return Object(P.jsx)(E,{item:e,hasDiscont:e.fullPrice!==e.price},e.id)}))})})},R=function(){var e,t=Object(l.p)().id,c=Object(l.l)().pathname,a=c.split("/")[1],s=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)};return Object(P.jsxs)("div",{className:"navigation",children:[Object(P.jsx)(n.b,{to:"/",children:Object(P.jsx)("div",{className:"icon icon--home"})}),a&&Object(P.jsxs)("ul",{className:"navigation__list text__small",children:[Object(P.jsx)("li",{className:"navigation__item",children:Object(P.jsx)("div",{className:"icon icon--nav"})}),Object(P.jsx)("li",{className:"navigation__item",children:Object(P.jsx)(n.b,{to:"/".concat(a),children:s(a)})}),t&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("li",{className:"navigation__item",children:Object(P.jsx)("div",{className:"icon icon--nav"})}),Object(P.jsx)("li",{className:"navigation__item",children:Object(P.jsx)(n.b,{to:"/".concat(a,"/").concat(t),children:(e=t,e.split("-").map((function(e){return s(e)})).join(" "))})})]})]})]})},z=c(9),X=["Default","Newest","Alphabetically","Cheapest"],G=[4,8,16,"All"],H=function(e){var t=e.type,c="sortBy"===t,a=Object(n.d)(),s=Object(j.a)(a,1)[0],i=c?s.get(t)||"Default":s.get(t)||"8",l=c?"Sort By":"Items on page",o=c?X:G,d=Object(r.useState)(!1),_=Object(j.a)(d,2),b=_[0],u=_[1],m=Object(r.useRef)(null),O=function(e){e.target!==m.current&&b&&u(!1)};return Object(r.useEffect)((function(){return document.addEventListener("click",O),function(){document.removeEventListener("click",O)}}),[b]),Object(P.jsxs)("div",{className:"phones__header__dropdown",children:[Object(P.jsx)("p",{className:"text__small",children:l}),Object(P.jsxs)("div",{className:"dropdown",children:[Object(P.jsxs)("button",{type:"button",className:"dropdown__button",onClick:function(){return u((function(e){return!e}))},children:[Object(P.jsx)("span",{children:i}),Object(P.jsx)("span",{className:N()("icon icon--dropdown","dropdown__button__arrow",{active:b})})]}),Object(P.jsx)("div",{className:"dropdown",id:"dropdown-menu",role:"menu",children:Object(P.jsx)("div",{className:N()("dropdown__content",{active:b}),children:o.map((function(e){return Object(P.jsx)(W,{className:"link-style text__body dropdown__item",params:Object(z.a)({},t,String(e)),onClick:function(){return u(!1)},children:e},e)}))})})]})]})},Y=function(e){var t=e.category,c=t.slice(0,1).toUpperCase()+t.slice(1);return Object(P.jsx)("div",{className:"page__not-found",children:Object(P.jsx)("h3",{children:"".concat(c," not found")})})},K=function(e){var t=e.title,c=e.category,a=Object(r.useState)(JSON.parse(localStorage.getItem(c)||"")),s=Object(j.a)(a,2),i=s[0],l=s[1],_=Object(r.useState)(!1),u=Object(j.a)(_,2),m=u[0],O=u[1],h=function(){var e=Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,p();case 4:t=e.sent,a=t.filter((function(e){return e.category===c})),l(a);case 7:return e.prev=7,O(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){0===i.length&&h()}),[]),localStorage.setItem(c,JSON.stringify(i));var f=Object(n.d)(),x=Object(j.a)(f,2),g=x[0],v=x[1],y=g.get("query")||"",S=g.get("sortBy")||"Default",w=parseInt(g.get("currentPage")||"1",10),k="All"!==g.get("itemPerPage")?parseInt(g.get("itemPerPage")||"8",10):i.length,L=function(){v(U(g,{currentPage:"1"}))},I=Object(r.useState)(0),C=Object(j.a)(I,2),E=C[0],A=C[1],J=Object(r.useState)(k),T=Object(j.a)(J,2),B=T[0],D=T[1],q=function(e){var t;switch(!0){case"number"===typeof e:t=e;break;case"left"===e:t=w-1;break;case"right"===e:t=w+1}v(U(g,{currentPage:String(t)}))};Object(r.useEffect)((function(){window.scrollTo({top:0,behavior:"auto"}),A(k*(w-1)),D(k*w)}),[w]);var $=Object(r.useState)(Object(o.a)(i)),z=Object(j.a)($,2),X=z[0],G=z[1],K=Math.ceil(X.length/k);return Object(r.useEffect)((function(){switch(S){case"Newest":G(Object(o.a)(i).sort((function(e,t){return t.year-e.year})));break;case"Alphabetically":G(Object(o.a)(i).sort((function(e,t){return e.name.localeCompare(t.name)})));break;case"Cheapest":G(Object(o.a)(i).sort((function(e,t){return e.price-t.price})));break;default:G(Object(o.a)(i))}L()}),[S]),Object(r.useEffect)((function(){L(),D(k)}),[k]),Object(r.useEffect)((function(){G(i.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}))),L()}),[y]),Object(P.jsxs)("div",{children:[Object(P.jsx)(R,{}),Object(P.jsxs)("main",{className:"page",children:[Object(P.jsxs)("section",{className:"phones",children:[Object(P.jsxs)("div",{className:"phones__header",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{children:t}),!m&&X.length>0&&Object(P.jsx)("p",{className:"text__body phones__header__subtitle",children:"".concat(X.length," models")})]}),X.length>0&&Object(P.jsxs)("div",{className:"phones__header__dropdowns",children:[Object(P.jsx)(H,{type:"sortBy"}),Object(P.jsx)(H,{type:"itemPerPage"})]})]}),m&&Object(P.jsxs)("div",{className:"page__loading",children:[Object(P.jsx)("h3",{className:"page__loading__title",children:"Please, wait, the page is loading..."}),Object(P.jsx)(M.a,{color:"gray"})]}),!m&&(X.length>0?Object(P.jsxs)("div",{className:"phones__catalog",children:[Object(P.jsx)(F,{catalog:X,start:E,end:B}),X.length!==k&&Object(P.jsxs)("div",{className:"phones__catalog__buttons",children:[Object(P.jsx)("button",{type:"button","aria-label":"slider-button",className:"slider-button slider-button__left",disabled:"1"===g.get("currentPage"),onClick:function(){return q("left")}}),Object(P.jsx)("div",{className:"phones__catalog__buttons__paggination",children:Array.from({length:K},(function(e,t){return t+1})).map((function(e){return Object(P.jsx)(W,{className:N()("slider-button slider-button__paggination",{active:g.get("currentPage")===String(e)}),onClick:function(){return q(e)},params:{currentPage:String(e)},children:e},e)}))}),Object(P.jsx)("button",{"aria-label":"slider-button",className:"slider-button slider-button__right",disabled:g.get("currentPage")===String(K),type:"button",onClick:function(){return q("right")}})]})]}):Object(P.jsx)(Y,{category:c}))]}),Object(P.jsx)("section",{})]})]})},Q=function(){return Object(P.jsx)(K,{title:"Mobile phones",category:"phones"})},V={midnightgreen:"#5f7170",spacegray:"#4c4c4c",gold:"#fcdbc1",silver:"#f0f0f0",black:"#000",yellow:"#fff44f",green:"#d0ffd0",purple:"#e4dde7",red:"#dd1133",coral:"#f77464",rosegold:"#ffe6ec"},Z=function(){var e=Object(l.n)();return Object(P.jsxs)("div",{className:"back-button",children:[Object(P.jsx)("div",{className:"icon icon--back"}),Object(P.jsx)("p",{role:"presentation",className:"text__small",onClick:function(){e(-1)},children:"Back"})]})},ee=["screen","resolution","processor","ram","capacity","camera","zoom","cell"],te=["screen","resolution","processor","ram"],ce=function(e){return"ram"===e?e.toUpperCase():e.slice(0,1).toUpperCase()+e.slice(1)},ae=function(){var e=Object(l.p)(),t=Object(r.useState)(""),c=Object(j.a)(t,2),a=c[0],s=c[1],i=Object(r.useState)(),o=Object(j.a)(i,2),_=o[0],u=o[1],m=Object(r.useState)([]),O=Object(j.a)(m,2),h=O[0],p=O[1],x=Object(r.useState)([]),g=Object(j.a)(x,2),v=g[0],y=g[1],S=Object(r.useState)(""),w=Object(j.a)(S,2),L=w[0],I=w[1],E=Object(r.useState)([]),J=Object(j.a)(E,2),T=J[0],B=J[1],D=Object(r.useState)(""),q=Object(j.a)(D,2),U=q[0],$=q[1],W=Object(r.useState)(null),F=Object(j.a)(W,2),z=F[0],X=F[1],G=Object(r.useState)(""),H=Object(j.a)(G,2),Y=H[0],K=H[1],Q=JSON.parse(localStorage.getItem("fullList")||""),ae=function(e){return"new/".concat(e)},se=function(){var e=Object(d.a)(b.a.mark((function e(t){var c,a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,X(null),e.next=4,f(t);case 4:c=e.sent,a=Q.find((function(e){return e.itemId===t})),s((null===a||void 0===a?void 0:a.id)||t),X(c),u(a),I((null===a||void 0===a?void 0:a.color)||""),$((null===a||void 0===a?void 0:a.capacity)||""),K(ae((null===a||void 0===a?void 0:a.image)||"")),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new Error("Didn't catch data");case 17:return e.prev=17,n=t.split("-").slice(0,-2).join("-"),r=Q.filter((function(e){return n===e.itemId.split("-").slice(0,-2).join("-")})),p(r),y(r.map((function(e){return e.color})).filter((function(e,t,c){return c.indexOf(e)===t}))),B(r.map((function(e){return e.capacity})).filter((function(e,t,c){return c.indexOf(e)===t}))),e.finish(17);case 24:case"end":return e.stop()}}),e,null,[[0,14,17,24]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){e.id&&se(e.id),window.scrollTo({top:0,behavior:"smooth"})}),[e.id]);var ne=function(e){var t=e.currentTarget.getAttribute("src");K(t||"")};return Object(P.jsxs)("div",{children:[Object(P.jsx)(R,{}),_&&z?Object(P.jsxs)("main",{className:"page cardPage",children:[Object(P.jsxs)("section",{className:"cardPage__title",children:[Object(P.jsx)(Z,{}),Object(P.jsxs)("div",{className:"cardPage__title__zone",children:[Object(P.jsx)("h1",{children:_.name}),Object(P.jsx)("p",{className:"cardPage__title__id text__small",children:"ID: ".concat(_.id)})]})]}),Object(P.jsxs)("section",{className:"cardPage__props",children:[Object(P.jsxs)("div",{className:"cardPage__props__images",children:[Object(P.jsx)("div",{className:"cardPage__props__images__small",children:z.images.map((function(e){return Object(P.jsx)("div",{className:N()("cardPage__props__image--cover",{active:ae(e)===Y}),children:Object(P.jsx)("img",{src:ae(e),alt:e,role:"presentation",className:"cardPage__props__image--small",onClick:ne})},e)}))}),Object(P.jsx)("div",{className:"cardPage__props__images__big",children:Object(P.jsx)("img",{src:Y,alt:_.itemId,className:"cardPage__props__image--big"})})]}),Object(P.jsxs)("div",{className:"cardPage__props__info",children:[Object(P.jsxs)("div",{className:"cardPage__props__info__sections",children:[Object(P.jsxs)("div",{className:"cardPage__props__info__section",children:[Object(P.jsx)("p",{className:"text__small",children:"Available colors"}),Object(P.jsx)("div",{className:"cardPage__props__info__circles",children:v.map((function(e){return Object(P.jsx)(n.b,{to:"/phones/".concat(h.filter((function(t){return t.color===e&&t.capacity===U}))[0].itemId),className:N()("cardPage__props__info__circle",{active:L===e}),children:Object(P.jsx)("div",{className:"cardPage__props__info__circle--inner",style:{backgroundColor:V[e]}})},e)}))})]}),Object(P.jsx)("p",{className:"cardPage__details__title-line"}),Object(P.jsxs)("div",{className:"cardPage__props__info__section",children:[Object(P.jsx)("p",{className:"text__small",children:"Select capacity"}),Object(P.jsx)("div",{className:"cardPage__props__info__capacities",children:T.map((function(e){return Object(P.jsx)(n.b,{to:"/phones/".concat(h.filter((function(t){return t.capacity===e&&t.color===L}))[0].itemId),className:N()("text__body","slider-button__paggination","cardPage__props__info__capacity",{active:U===e}),children:e},e)}))})]}),Object(P.jsx)("p",{className:"cardPage__details__title-line"}),Object(P.jsxs)("div",{className:"cardPage__props__info__price-section",children:[Object(P.jsxs)("div",{className:"cardPage__props__info__price",children:[Object(P.jsx)("h1",{className:"card__price__new",children:"$".concat(_.price)}),Object(P.jsx)("h2",{className:"cardPage__props__info__price--old",children:"$".concat(_.fullPrice)})]}),Object(P.jsxs)("div",{className:"cardPage__props__info__buttons",children:[Object(P.jsx)(C,{id:a,bigButton:!0}),Object(P.jsx)(k,{id:a,bigButton:!0})]})]}),Object(P.jsx)("div",{className:"cardPage__props__info__details text__body",children:te.map((function(e){return Object(P.jsxs)("div",{className:"cardPage__props__info__item",children:[Object(P.jsx)("p",{className:"cardPage__props__info__title",children:ce(e)}),Object(P.jsx)("p",{children:z[e]})]},e)}))})]}),Object(P.jsx)("p",{className:"cardPage__props__info__id text__small",children:"ID: ".concat(_.id)})]})]}),Object(P.jsxs)("section",{className:"cardPage__details",children:[Object(P.jsxs)("div",{className:"cardPage__details__left",children:[Object(P.jsxs)("div",{className:"cardPage__details__left__block",children:[Object(P.jsx)("h2",{children:"About"}),Object(P.jsx)("p",{className:"cardPage__details__title-line"})]}),z.description.map((function(e){return Object(P.jsxs)("div",{className:"cardPage__details__left__block",children:[Object(P.jsx)("h3",{children:e.title}),e.text.map((function(e){return Object(P.jsx)("p",{className:"text__body cardPage__details__gray-text",children:e},e)}))]},e.title)}))]}),Object(P.jsxs)("div",{className:"cardPage__details__right",children:[Object(P.jsxs)("div",{className:"cardPage__details__left__block",children:[Object(P.jsx)("h2",{children:"Tech specs"}),Object(P.jsx)("p",{className:"cardPage__details__title-line"})]}),Object(P.jsx)("div",{className:"cardPage__details__right__block",children:ee.map((function(e){return Object(P.jsxs)("div",{className:"cardPage__details__right__element",children:[Object(P.jsx)("p",{className:"text__body cardPage__details__gray-text",children:ce(e)}),Object(P.jsx)("p",{className:"text__body cardPage__details__info",children:"cell"===e?z.cell.join(", "):z[e]})]},e)}))})]})]}),Object(P.jsx)(A,{title:"You may also like",itemsList:h.filter((function(e){return e.id!==_.id})),isLoading:!1}),Object(P.jsx)("section",{})]}):Object(P.jsxs)("div",{className:"page__loading",children:[Object(P.jsx)("h3",{children:"Please, wait, the page is loading..."}),Object(P.jsx)(M.a,{color:"gray"})]})]})},se=function(){var e=localStorage.getItem("fav")?JSON.parse(localStorage.getItem("fav")||""):[],t=Object(r.useState)(Object(o.a)(e)),c=Object(j.a)(t,2),a=c[0],s=c[1],i=a.length,l=Object(n.d)(),d=Object(j.a)(l,1)[0].get("query")||"";return Object(r.useEffect)((function(){}),[e]),Object(r.useEffect)((function(){s(e.filter((function(e){return e.name.toLowerCase().includes(d.toLowerCase())})))}),[d]),Object(P.jsxs)("main",{children:[Object(P.jsx)(R,{}),Object(P.jsxs)("section",{className:"page",children:[Object(P.jsxs)("div",{className:"page__catalog",children:[Object(P.jsx)("h1",{children:"Favorites"}),a&&Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{className:"text__body page__subtitle",children:"".concat(i," ").concat(i>1?"models":"model")}),Object(P.jsx)(F,{catalog:a,start:0,end:i})]})]}),Object(P.jsx)("div",{})]})]})},ne=function(e){var t=e.product,c=e.amount,a=e.handleListChange,s=void 0===a?function(){}:a,i=Object(r.useState)(c),l=Object(j.a)(i,2),o=l[0],d=l[1],_=function(e){var c=e>0?"add":"reduce";s(t.id,c),d((function(t){return t+e}))};return Object(P.jsxs)("div",{className:"cart__element cart-item text__body",children:[Object(P.jsxs)("div",{className:"cart-item__left-part",children:[Object(P.jsx)("div",{className:"icon icon--cross",role:"presentation",onClick:function(){return s(t.id,"remove")}}),Object(P.jsx)("div",{className:"cart-item__left-part__image-cover",children:Object(P.jsx)("img",{className:"cart-item__left-part__image",src:"new/".concat(t.image),alt:t.name})}),Object(P.jsx)(n.b,{to:"/phones/".concat(t.itemId),className:"cart-item__left-part__name",children:t.name})]}),Object(P.jsxs)("div",{className:"cart-item__right-part",children:[Object(P.jsxs)("div",{className:"cart-item__right-part__buttons",children:[Object(P.jsx)("button",{type:"button","aria-label":"slider-button",className:"slider-button slider-button__minus",onClick:function(){return _(-1)},disabled:1===c}),Object(P.jsx)("p",{children:o}),Object(P.jsx)("button",{type:"button","aria-label":"slider-button",className:"slider-button slider-button__plus",onClick:function(){return _(1)},disabled:c===t.count})]}),Object(P.jsx)("h2",{children:"$".concat(t.price*c)})]})]})},re=function(){var e=JSON.parse(localStorage.getItem("fullList")||""),t=localStorage.getItem("cartList")?JSON.parse(localStorage.getItem("cartList")||""):[],c=function(e){return e.filter((function(e,t,c){return c.findIndex((function(t){return t.id===e.id}))===t}))},a=Object(r.useState)(Object(o.a)(t)),s=Object(j.a)(a,2),n=s[0],i=s[1],l=Object(r.useState)(c(t)),d=Object(j.a)(l,2),_=d[0],b=d[1],u=function(){return n.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)},m=Object(r.useState)(u),O=Object(j.a)(m,2),h=O[0],p=O[1];Object(r.useEffect)((function(){p(u)}),[n]);var f=function(t,a){var s=Object(o.a)(n);switch(a){case"add":var r=e.find((function(e){return e.id===t})),l=n.findIndex((function(e){return e.id===t}));r&&s.splice(l,0,r);break;case"remove":s=n.filter((function(e){return e.id!==t}));break;case"reduce":var d=n.findIndex((function(e){return e.id===t}));s.splice(d,1)}i(s),b(c(s)),localStorage.removeItem("cartList"),localStorage.setItem("cartList",JSON.stringify(s))};return Object(P.jsxs)("main",{className:"page",children:[Object(P.jsxs)("section",{className:"cart",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(Z,{}),Object(P.jsx)("h1",{className:"cart__title",children:"Cart"}),Object(P.jsx)("div",{className:"cart__items",children:_.length?_.map((function(e){var t=n.filter((function(t){return t.id===e.id})).length;return Object(P.jsx)(ne,{product:e,amount:t,handleListChange:f},e.id)})):Object(P.jsx)("div",{className:"cart__empty cart__element",children:"The cart is empty"})})]}),_.length?Object(P.jsx)("div",{className:"cart__total",children:Object(P.jsxs)("div",{className:"cart__element cart__total__info",children:[Object(P.jsx)("h1",{children:"$".concat(h)}),Object(P.jsx)("p",{className:"text__body cart__total__info__text",children:"Total for ".concat(n.length," ").concat(n.length>1?"items":"item")}),Object(P.jsxs)("div",{className:"cart__total__info__divider",children:[Object(P.jsx)("div",{}),Object(P.jsx)("div",{className:"cart__total__info__divider__line"}),Object(P.jsx)("div",{})]}),Object(P.jsx)("button",{type:"button",className:"button cart__total__info__button",children:"Checkout"})]})}):""]}),Object(P.jsx)("section",{})]})},ie=function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(R,{}),Object(P.jsx)("div",{className:"page",children:Object(P.jsx)("h1",{children:"Page not found"})})]})},le=function(){return Object(P.jsx)(K,{title:"Tablets",category:"tablets"})},oe=function(){return Object(P.jsx)(K,{title:"Accessories",category:"accessories"})},de=function(){return Object(P.jsxs)(l.c,{children:[Object(P.jsx)(l.a,{path:"/",element:Object(P.jsx)(B,{})}),Object(P.jsx)(l.a,{path:"/phones",element:Object(P.jsx)(Q,{})}),Object(P.jsx)(l.a,{path:"/phones/:id",element:Object(P.jsx)(ae,{})}),Object(P.jsx)(l.a,{path:"/tablets",element:Object(P.jsx)(le,{})}),Object(P.jsx)(l.a,{path:"/accessories",element:Object(P.jsx)(oe,{})}),Object(P.jsx)(l.a,{path:"/favorites",element:Object(P.jsx)(se,{})}),Object(P.jsx)(l.a,{path:"/cart",element:Object(P.jsx)(re,{})}),Object(P.jsx)(l.a,{path:"*",element:Object(P.jsx)(ie,{})})]})},je=function(e){var t=e.category,c=Object(n.d)(),a=Object(j.a)(c,2),s=a[0],r=a[1],i=s.get("query")||"",l=window.innerWidth<=768?"on page":"in ".concat(t);return Object(P.jsxs)("div",{className:"header__search",children:[Object(P.jsx)("input",{className:"header__search__input",type:"text",placeholder:"Search ".concat(l,"..."),onChange:function(e){r(U(s,{query:e.target.value||null}))},value:i}),i.length>0?Object(P.jsx)("button",{type:"button","aria-label":"close-button",className:"icon icon--close close-button",onClick:function(){r(U(s,{query:""}))}}):Object(P.jsx)("p",{className:"icon icon--search"})]})},_e=["home","phones","tablets","accessories"],be=["github","contacts","rights"],ue=function(e){var t=e.isMenuOpened;return Object(P.jsx)("div",{className:"menu",children:Object(P.jsxs)("div",{className:N()("menu__cover",{active:t}),children:[_e.map((function(e){return Object(P.jsx)(n.c,{className:"text__uppercase",to:"home"!==e?"/".concat(e):"/",children:e},e)})),Object(P.jsx)("div",{className:"menu__line"}),be.map((function(e){return Object(P.jsx)(n.c,{className:"text__uppercase",to:"github"===e?"https://github.com/ihorivna007/react_phone-catalog/tree/develop":"/".concat(e),children:e},e)}))]})})},me=function(e){var t=e.isActive;return N()("header__link text__uppercase",{active:t})},Oe=function(e){var t=e.isActive;return N()("header__icon",{active:t})},he=["home","phones","tablets","accessories"],pe=["/phones","/tablets","/accessories","/favorites"],fe=function(){var e=Object(l.l)().pathname,t=pe.includes(e),c="/cart"===e,a="/"===e,s=Object(r.useState)(0),i=Object(j.a)(s,2),o=i[0],d=i[1],_=Object(r.useState)(0),b=Object(j.a)(_,2),u=b[0],m=b[1],O=Object(r.useState)(0),h=Object(j.a)(O,2),p=h[0],f=h[1];Object(r.useEffect)((function(){m(I.length),f(y.length)}),[o]),document.addEventListener("click",(function(e){var t=e.target;(t.classList.contains("favorite-button")||t.classList.contains("button")||t.classList.contains("cart-item__left-part__name"))&&d((function(e){return e+1}))}));var x=Object(r.useState)(!1),g=Object(j.a)(x,2),v=g[0],S=g[1];return Object(P.jsxs)("header",{className:"header",children:[Object(P.jsx)("div",{className:"header__left",children:c?Object(P.jsx)(n.c,{className:"logo",to:"/"}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(n.c,{className:"logo",to:"/"}),Object(P.jsx)("div",{className:"header__left__menu",children:he.map((function(e){return Object(P.jsx)(n.c,{className:me,to:"home"!==e?"/".concat(e):"/",children:e},e)}))}),a&&Object(P.jsxs)("div",{className:"header__left__dropdown-menu",children:[Object(P.jsx)("div",{role:"presentation",className:N()("text__uppercase","header__left__dropdown-menu__title",{active:v}),onClick:function(){return S((function(e){return!e}))},children:"menu"}),Object(P.jsx)(ue,{isMenuOpened:v})]})]})}),Object(P.jsxs)("div",{className:"header__right",children:[t&&Object(P.jsx)(je,{category:e.slice(1)}),!c&&Object(P.jsx)(n.c,{className:Oe,to:"/favorites",children:Object(P.jsx)("div",{className:"header__icon",children:Object(P.jsxs)("div",{className:"header__icon__cover",children:[Object(P.jsx)("div",{className:"icon icon--favorites header__icon__image"}),p>0&&Object(P.jsx)("span",{className:"header__icon__amount",children:p})]})})}),Object(P.jsx)(n.c,{className:Oe,to:"/cart",children:Object(P.jsx)("div",{className:"header__icon",children:Object(P.jsxs)("div",{className:"header__icon__cover",children:[Object(P.jsx)("div",{className:"icon icon--cart header__icon__image"}),u>0&&Object(P.jsx)("span",{className:"header__icon__amount",children:c?"":u})]})})})]})]})},xe=function(e){var t=e.isActive;return N()("footer__link text__uppercase",{active:t})},ge=function(){return Object(P.jsxs)("footer",{className:"footer",children:[Object(P.jsx)("div",{className:"footer__left",children:Object(P.jsx)(n.c,{className:"logo",to:"/"})}),Object(P.jsxs)("div",{className:"footer__centre",children:[Object(P.jsx)(n.c,{className:xe,to:"https://github.com/ihorivna007/react_phone-catalog/tree/develop",children:"github"}),Object(P.jsx)(n.c,{className:xe,to:"/contacts",children:"contacts"}),Object(P.jsx)(n.c,{className:xe,to:"/rights",children:"rights"})]}),Object(P.jsx)("div",{className:"footer__right",children:Object(P.jsxs)("div",{className:"footer__back-to-top link-style",children:[Object(P.jsx)("p",{className:"text__small",children:"Back to top"}),Object(P.jsx)("button",{type:"button","aria-label":"slider-button",className:"slider-button slider-button__right footer__icon",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}})]})})]})},ve=(c(38),function(){return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(fe,{}),Object(P.jsx)(i.a.StrictMode,{children:Object(P.jsx)(de,{})}),Object(P.jsx)(ge,{})]})});s.a.render(Object(P.jsx)(n.a,{children:Object(P.jsx)(ve,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.70a87609.chunk.js.map